---
import doc from "@/../doc.json";
import ReferenceEntry from "./ReferenceEntry.astro";

type Props = {
    mode: "KaboomCtx" | "all";
};

const allDoc = doc.types;
const kaboomCtxDoc = allDoc.KaboomCtx[0].members;
const docGroups = doc.groups;
const docGroupKeys = Object.keys(docGroups) as Array<keyof typeof docGroups>;

const { mode } = Astro.props;
---

<main>
    {
        mode === "all" && docGroupKeys.map((key) => (
        docGroups[key].entries.map((entry) => (
            <ReferenceEntry
                name={entry}
                type={allDoc[entry as keyof typeof allDoc] ?? kaboomCtxDoc[
                    entry as keyof typeof kaboomCtxDoc
                ]}
            />

            <div class="divider"></div>
        ))
        ))
    }
</main>
